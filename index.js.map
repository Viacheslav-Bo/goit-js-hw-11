{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '53154523-05709ccc1510dd918919f2375',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      },\n    })\n\n    .then(res => {\n      return res.data.hits;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nlet lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n// ===========================================================\n// СТВОРЕННЯ РОЗМІТКИ\nexport function createGallery(images) {\n  return images\n    .map(function (img) {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = img;\n      return `<li class=\"gallery-item\">\n            <div class=\"gallery-img-container\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\" data-source=\"${largeImageURL}\"  /></a>\n            </div>\n            <div class=\"desc-container\">\n              <ul class=\"desc-list\">\n              <li class=\"Likes\">Likes: <span>${likes}</span></li>\n              <li class=\"Views\">Views: <span>${views}</span></li>\n              <li class=\"Comments\">Comments: <span>${comments}</span></li>\n              <li class=\"Downloads\">Downloads: <span>${downloads}</span></li>\n              </ul>\n            </div>\n          </li>`;\n    })\n    .join('');\n}\n// ===========================================================\n// ВТАВКА РОЗМІТКИ В DOM\nexport function makeMarkup(res) {\n  if (res.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      backgroundColor: 'rgb(255, 215, 163)',\n    });\n    return;\n  }\n\n  const markup = createGallery(res);\n  gallery.insertAdjacentHTML('afterbegin', markup);\n  hideLoader();\n  lightbox.refresh();\n}\n// ===========================================================\n// ДОДАТКОВІ ФУНКЦІЇ\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.add('is-shown');\n}\n\nexport function hideLoader() {\n  loader.classList.remove('is-shown');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport { clearGallery, showLoader, makeMarkup } from './js/render-functions.js';\n\n// ===================================================================\n// БАЗА\nconst form = document.querySelector('.form');\nconst submitBtn = document.querySelector('button[type=submit]');\n\n// ===================================================================\n// ПОДІЯ сабміт\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  showLoader();\n\n  const searchWord = document\n    .querySelector('input[name=\"search-text\"]')\n    .value.trim();\n  if (!searchWord) {\n    return;\n  }\n\n  clearGallery();\n\n  getImagesByQuery(searchWord)\n    .then(makeMarkup)\n    .catch(error => console.log(error));\n});\n// submitBtn.disabled = true;\n\n// ===================================================================\n// ПОДІЯ інпут\nform.addEventListener('input', evt => {\n  const searchWord = evt.target.value.trim();\n  submitBtn.disabled = !searchWord;\n  if (!searchWord) {\n    iziToast.show({\n      message: 'Please fill in the field to begin your search.',\n      position: 'topRight',\n      backgroundColor: 'rgb(255, 215, 163)',\n    });\n  }\n});\n"],"names":["getImagesByQuery","query","axios","res","loader","gallery","lightbox","SimpleLightbox","createGallery","images","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","makeMarkup","markup","hideLoader","clearGallery","showLoader","form","submitBtn","evt","searchWord","error","iziToast"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACP,CAAK,EAEA,KAAKE,GACGA,EAAI,KAAK,IACjB,CACL,CCdA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAChB,CAAC,EAGM,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IAAI,SAAUC,EAAK,CAClB,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,4CAE+BE,CAAa;AAAA,wCACjBD,CAAY,UAAUE,CAAI,kBAAkBD,CAAa;AAAA;AAAA;AAAA;AAAA,+CAIlDE,CAAK;AAAA,+CACLC,CAAK;AAAA,qDACCC,CAAQ;AAAA,uDACNC,CAAS;AAAA;AAAA;AAAA,gBAIhE,CAAK,EACA,KAAK,EAAE,CACZ,CAGO,SAASC,EAAWf,EAAK,CAC9B,GAAIA,EAAI,SAAW,EAAG,CACpB,SAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,gBAAiB,oBACvB,CAAK,EACD,MACD,CAED,MAAMgB,EAASX,EAAcL,CAAG,EAChCE,EAAQ,mBAAmB,aAAcc,CAAM,EAC/CC,IACAd,EAAS,QAAO,CAClB,CAGO,SAASe,GAAe,CAC7BhB,EAAQ,UAAY,EACtB,CAEO,SAASiB,GAAa,CAC3BlB,EAAO,UAAU,IAAI,UAAU,CACjC,CAEO,SAASgB,GAAa,CAC3BhB,EAAO,UAAU,OAAO,UAAU,CACpC,CC/DA,MAAMmB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,qBAAqB,EAI9DD,EAAK,iBAAiB,SAAUE,GAAO,CACrCA,EAAI,eAAc,EAClBH,IAEA,MAAMI,EAAa,SAChB,cAAc,2BAA2B,EACzC,MAAM,KAAI,EACRA,IAILL,IAEArB,EAAiB0B,CAAU,EACxB,KAAKR,CAAU,EACf,MAAMS,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACtC,CAAC,EAKDJ,EAAK,iBAAiB,QAASE,GAAO,CACpC,MAAMC,EAAaD,EAAI,OAAO,MAAM,KAAI,EACxCD,EAAU,SAAW,CAACE,EACjBA,GACHE,EAAS,KAAK,CACZ,QAAS,iDACT,SAAU,WACV,gBAAiB,oBACvB,CAAK,CAEL,CAAC"}